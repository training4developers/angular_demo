{"version":3,"file":"browser.js","sources":["../../../../../packages/animations/browser/src/render/web_animations/web_animations_driver.ts","../../../../../packages/animations/browser/src/render/web_animations/web_animations_player.ts","../../../../../packages/animations/browser/src/render/noop_animation_engine.ts","../../../../../packages/animations/browser/src/dsl/style_normalization/web_animations_style_normalizer.ts","../../../../../packages/animations/browser/src/dsl/animation.ts","../../../../../packages/animations/browser/src/dsl/style_normalization/animation_style_normalizer.ts","../../../../../packages/animations/browser/src/render/dom_animation_engine.ts","../../../../../packages/animations/browser/src/dsl/animation_trigger.ts","../../../../../packages/animations/browser/src/dsl/animation_validator_visitor.ts","../../../../../packages/animations/browser/src/dsl/animation_transition_factory.ts","../../../../../packages/animations/browser/src/dsl/animation_transition_instruction.ts","../../../../../packages/animations/browser/src/dsl/animation_timeline_visitor.ts","../../../../../packages/animations/browser/src/dsl/animation_timeline_instruction.ts","../../../../../packages/animations/browser/src/dsl/animation_transition_expr.ts","../../../../../packages/animations/browser/src/dsl/animation_dsl_visitor.ts","../../../../../packages/animations/browser/src/util.ts","../../../../../packages/animations/browser/src/animation_engine.ts","../../../../../packages/animations/browser/src/render/animation_driver.ts"],"sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {AnimationPlayer, ɵStyleData} from '@angular/animations';\n\nimport {AnimationDriver} from '../animation_driver';\n\nimport {WebAnimationsPlayer} from './web_animations_player';\nexport class WebAnimationsDriver implements AnimationDriver {\n/**\n * @param {?} element\n * @param {?} keyframes\n * @param {?} duration\n * @param {?} delay\n * @param {?} easing\n * @param {?=} previousPlayers\n * @return {?}\n */\nanimate(\n      element: any, keyframes: ɵStyleData[], duration: number, delay: number, easing: string,\n      previousPlayers: AnimationPlayer[] = []): WebAnimationsPlayer {\n    const /** @type {?} */ playerOptions: {[key: string]: string |\n                              number} = {'duration': duration, 'delay': delay, 'fill': 'forwards'};\n\n    // we check for this to avoid having a null|undefined value be present\n    // for the easing (which results in an error for certain browsers #9752)\n    if (easing) {\n      playerOptions['easing'] = easing;\n    }\n\n    const /** @type {?} */ previousWebAnimationPlayers = /** @type {?} */(( <WebAnimationsPlayer[]>previousPlayers.filter(\n        player => { return player instanceof WebAnimationsPlayer; })));\n    return new WebAnimationsPlayer(element, keyframes, playerOptions, previousWebAnimationPlayers);\n  }\n}\n/**\n * @return {?}\n */\nexport function supportsWebAnimations() {\n  return typeof Element !== 'undefined' && typeof( /** @type {?} */((<any>Element))).prototype['animate'] === 'function';\n}\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {AUTO_STYLE, AnimationPlayer} from '@angular/animations';\nimport {DOMAnimation} from './dom_animation';\nexport class WebAnimationsPlayer implements AnimationPlayer {\nprivate _onDoneFns: Function[] = [];\nprivate _onStartFns: Function[] = [];\nprivate _onDestroyFns: Function[] = [];\nprivate _player: DOMAnimation;\nprivate _duration: number;\nprivate _delay: number;\nprivate _initialized = false;\nprivate _finished = false;\nprivate _started = false;\nprivate _destroyed = false;\nprivate _finalKeyframe: {[key: string]: string | number};\npublic time = 0;\npublic parentPlayer: AnimationPlayer = null;\npublic previousStyles: {[styleName: string]: string | number};\n/**\n * @param {?} element\n * @param {?} keyframes\n * @param {?} options\n * @param {?=} previousPlayers\n */\nconstructor(\npublic element: any,\npublic keyframes: {[key: string]: string | number}[],\npublic options: {[key: string]: string | number},\n      previousPlayers: WebAnimationsPlayer[] = []) {\n    this._duration = <number>options['duration'];\n    this._delay = <number>options['delay'] || 0;\n    this.time = this._duration + this._delay;\n\n    this.previousStyles = {};\n    previousPlayers.forEach(player => {\n      let styles = player._captureStyles();\n      Object.keys(styles).forEach(prop => this.previousStyles[prop] = styles[prop]);\n    });\n  }\n/**\n * @return {?}\n */\nprivate _onFinish() {\n    if (!this._finished) {\n      this._finished = true;\n      this._onDoneFns.forEach(fn => fn());\n      this._onDoneFns = [];\n    }\n  }\n/**\n * @return {?}\n */\ninit(): void {\n    if (this._initialized) return;\n    this._initialized = true;\n\n    const /** @type {?} */ keyframes = this.keyframes.map(styles => {\n      const /** @type {?} */ formattedKeyframe: {[key: string]: string | number} = {};\n      Object.keys(styles).forEach((prop, index) => {\n        let /** @type {?} */ value = styles[prop];\n        if (value == AUTO_STYLE) {\n          value = _computeStyle(this.element, prop);\n        }\n        if (value != undefined) {\n          formattedKeyframe[prop] = value;\n        }\n      });\n      return formattedKeyframe;\n    });\n\n    const /** @type {?} */ previousStyleProps = Object.keys(this.previousStyles);\n    if (previousStyleProps.length) {\n      let /** @type {?} */ startingKeyframe = keyframes[0];\n      let /** @type {?} */ missingStyleProps: string[] = [];\n      previousStyleProps.forEach(prop => {\n        if (startingKeyframe[prop] != null) {\n          missingStyleProps.push(prop);\n        }\n        startingKeyframe[prop] = this.previousStyles[prop];\n      });\n\n      if (missingStyleProps.length) {\n        const /** @type {?} */ self = this;\n        // tslint:disable-next-line\n        for (var /** @type {?} */ i = 1; i < keyframes.length; i++) {\n          let /** @type {?} */ kf = keyframes[i];\n          missingStyleProps.forEach(function(prop) {\n            kf[prop] = _computeStyle(self.element, prop);\n          });\n        }\n      }\n    }\n\n    this._player = this._triggerWebAnimation(this.element, keyframes, this.options);\n    this._finalKeyframe =\n        keyframes.length ? _copyKeyframeStyles(keyframes[keyframes.length - 1]) : {};\n\n    // this is required so that the player doesn't start to animate right away\n    this._resetDomPlayerState();\n    this._player.addEventListener('finish', () => this._onFinish());\n  }\n/**\n * \\@internal\n * @param {?} element\n * @param {?} keyframes\n * @param {?} options\n * @return {?}\n */\n_triggerWebAnimation(element: any, keyframes: any[], options: any): DOMAnimation {\n    // jscompiler doesn't seem to know animate is a native property because it's not fully\n    // supported yet across common browsers (we polyfill it for Edge/Safari) [CL #143630929]\n    return /** @type {?} */(( <DOMAnimation>element['animate'](keyframes, options)));\n  }\n/**\n * @return {?}\n */\nget domPlayer() { return this._player; }\n/**\n * @param {?} fn\n * @return {?}\n */\nonStart(fn: () => void): void { this._onStartFns.push(fn); }\n/**\n * @param {?} fn\n * @return {?}\n */\nonDone(fn: () => void): void { this._onDoneFns.push(fn); }\n/**\n * @param {?} fn\n * @return {?}\n */\nonDestroy(fn: () => void): void { this._onDestroyFns.push(fn); }\n/**\n * @return {?}\n */\nplay(): void {\n    this.init();\n    if (!this.hasStarted()) {\n      this._onStartFns.forEach(fn => fn());\n      this._onStartFns = [];\n      this._started = true;\n    }\n    this._player.play();\n  }\n/**\n * @return {?}\n */\npause(): void {\n    this.init();\n    this._player.pause();\n  }\n/**\n * @return {?}\n */\nfinish(): void {\n    this.init();\n    this._onFinish();\n    this._player.finish();\n  }\n/**\n * @return {?}\n */\nreset(): void {\n    this._resetDomPlayerState();\n    this._destroyed = false;\n    this._finished = false;\n    this._started = false;\n  }\n/**\n * @return {?}\n */\nprivate _resetDomPlayerState() {\n    if (this._player) {\n      this._player.cancel();\n    }\n  }\n/**\n * @return {?}\n */\nrestart(): void {\n    this.reset();\n    this.play();\n  }\n/**\n * @return {?}\n */\nhasStarted(): boolean { return this._started; }\n/**\n * @return {?}\n */\ndestroy(): void {\n    if (!this._destroyed) {\n      this._resetDomPlayerState();\n      this._onFinish();\n      this._destroyed = true;\n      this._onDestroyFns.forEach(fn => fn());\n      this._onDestroyFns = [];\n    }\n  }\n/**\n * @param {?} p\n * @return {?}\n */\nsetPosition(p: number): void { this._player.currentTime = p * this.time; }\n/**\n * @return {?}\n */\ngetPosition(): number { return this._player.currentTime / this.time; }\n/**\n * @return {?}\n */\nprivate _captureStyles(): {[prop: string]: string | number} {\n    const /** @type {?} */ styles: {[key: string]: string | number} = {};\n    if (this.hasStarted()) {\n      Object.keys(this._finalKeyframe).forEach(prop => {\n        if (prop != 'offset') {\n          styles[prop] =\n              this._finished ? this._finalKeyframe[prop] : _computeStyle(this.element, prop);\n        }\n      });\n    }\n\n    return styles;\n  }\n}\n\nfunction WebAnimationsPlayer_tsickle_Closure_declarations() {\n/** @type {?} */\nWebAnimationsPlayer.prototype._onDoneFns;\n/** @type {?} */\nWebAnimationsPlayer.prototype._onStartFns;\n/** @type {?} */\nWebAnimationsPlayer.prototype._onDestroyFns;\n/** @type {?} */\nWebAnimationsPlayer.prototype._player;\n/** @type {?} */\nWebAnimationsPlayer.prototype._duration;\n/** @type {?} */\nWebAnimationsPlayer.prototype._delay;\n/** @type {?} */\nWebAnimationsPlayer.prototype._initialized;\n/** @type {?} */\nWebAnimationsPlayer.prototype._finished;\n/** @type {?} */\nWebAnimationsPlayer.prototype._started;\n/** @type {?} */\nWebAnimationsPlayer.prototype._destroyed;\n/** @type {?} */\nWebAnimationsPlayer.prototype._finalKeyframe;\n/** @type {?} */\nWebAnimationsPlayer.prototype.time;\n/** @type {?} */\nWebAnimationsPlayer.prototype.parentPlayer;\n/** @type {?} */\nWebAnimationsPlayer.prototype.previousStyles;\n/** @type {?} */\nWebAnimationsPlayer.prototype.element;\n/** @type {?} */\nWebAnimationsPlayer.prototype.keyframes;\n/** @type {?} */\nWebAnimationsPlayer.prototype.options;\n}\n\n/**\n * @param {?} element\n * @param {?} prop\n * @return {?}\n */\nfunction _computeStyle(element: any, prop: string): string {\n  return ( /** @type {?} */((<any>window.getComputedStyle(element))))[prop];\n}\n/**\n * @param {?} styles\n * @return {?}\n */\nfunction _copyKeyframeStyles(styles: {[style: string]: string | number}):\n    {[style: string]: string | number} {\n  const /** @type {?} */ newStyles: {[style: string]: string | number} = {};\n  Object.keys(styles).forEach(prop => {\n    if (prop != 'offset') {\n      newStyles[prop] = styles[prop];\n    }\n  });\n  return newStyles;\n}\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {AnimationEvent, AnimationMetadataType, AnimationPlayer, AnimationStateMetadata, AnimationTriggerMetadata, ɵStyleData} from '@angular/animations';\n\nimport {AnimationEngine} from '../animation_engine';\nimport {copyStyles, eraseStyles, normalizeStyles, setStyles} from '../util';\n\ninterface ListenerTuple {\n  eventPhase: string;\n  triggerName: string;\n  callback: (event: any) => any;\n  doRemove?: boolean;\n}\n\ninterface ChangeTuple {\n  element: any;\n  triggerName: string;\n  oldValue: string;\n  newValue: string;\n}\n\nconst /** @type {?} */ DEFAULT_STATE_VALUE = 'void';\nconst /** @type {?} */ DEFAULT_STATE_STYLES = '*';\nexport class NoopAnimationEngine extends AnimationEngine {\nprivate _listeners = new Map<any, ListenerTuple[]>();\nprivate _changes: ChangeTuple[] = [];\nprivate _flaggedRemovals = new Set<any>();\nprivate _onDoneFns: (() => any)[] = [];\nprivate _triggerStyles: {[triggerName: string]: {[stateName: string]: ɵStyleData}} =\n      Object.create(null);\n/**\n * @param {?} trigger\n * @param {?=} name\n * @return {?}\n */\nregisterTrigger(trigger: AnimationTriggerMetadata, name: string = null): void {\n    name = name || trigger.name;\n    if (this._triggerStyles[name]) {\n      return;\n    }\n    const /** @type {?} */ stateMap: {[stateName: string]: ɵStyleData} = {};\n    trigger.definitions.forEach(def => {\n      if (def.type === AnimationMetadataType.State) {\n        const /** @type {?} */ stateDef = /** @type {?} */(( def as AnimationStateMetadata));\n        stateMap[stateDef.name] = normalizeStyles(stateDef.styles.styles);\n      }\n    });\n    this._triggerStyles[name] = stateMap;\n  }\n/**\n * @param {?} element\n * @param {?} domFn\n * @return {?}\n */\nonInsert(element: any, domFn: () => any): void { domFn(); }\n/**\n * @param {?} element\n * @param {?} domFn\n * @return {?}\n */\nonRemove(element: any, domFn: () => any): void {\n    domFn();\n    this._flaggedRemovals.add(element);\n  }\n/**\n * @param {?} element\n * @param {?} property\n * @param {?} value\n * @return {?}\n */\nsetProperty(element: any, property: string, value: any): void {\n    const /** @type {?} */ storageProp = makeStorageProp(property);\n    const /** @type {?} */ oldValue = element[storageProp] || DEFAULT_STATE_VALUE;\n    this._changes.push( /** @type {?} */((<ChangeTuple>{element, oldValue, newValue: value, triggerName: property})));\n\n    const /** @type {?} */ triggerStateStyles = this._triggerStyles[property] || {};\n    const /** @type {?} */ fromStateStyles =\n        triggerStateStyles[oldValue] || triggerStateStyles[DEFAULT_STATE_STYLES];\n    if (fromStateStyles) {\n      eraseStyles(element, fromStateStyles);\n    }\n\n    element[storageProp] = value;\n    this._onDoneFns.push(() => {\n      const /** @type {?} */ toStateStyles = triggerStateStyles[value] || triggerStateStyles[DEFAULT_STATE_STYLES];\n      if (toStateStyles) {\n        setStyles(element, toStateStyles);\n      }\n    });\n  }\n/**\n * @param {?} element\n * @param {?} eventName\n * @param {?} eventPhase\n * @param {?} callback\n * @return {?}\n */\nlisten(element: any, eventName: string, eventPhase: string, callback: (event: any) => any):\n      () => any {\n    let /** @type {?} */ listeners = this._listeners.get(element);\n    if (!listeners) {\n      this._listeners.set(element, listeners = []);\n    }\n\n    const /** @type {?} */ tuple = /** @type {?} */(( <ListenerTuple>{triggerName: eventName, eventPhase, callback}));\n    listeners.push(tuple);\n\n    return () => tuple.doRemove = true;\n  }\n/**\n * @return {?}\n */\nflush(): void {\n    const /** @type {?} */ onStartCallbacks: (() => any)[] = [];\n    const /** @type {?} */ onDoneCallbacks: (() => any)[] = [];\n/**\n * @param {?} listener\n * @param {?} data\n * @return {?}\n */\nfunction handleListener(listener: ListenerTuple, data: ChangeTuple) {\n      const /** @type {?} */ phase = listener.eventPhase;\n      const /** @type {?} */ event = makeAnimationEvent(\n          data.element, data.triggerName, data.oldValue, data.newValue, phase, 0);\n      if (phase == 'start') {\n        onStartCallbacks.push(() => listener.callback(event));\n      } else if (phase == 'done') {\n        onDoneCallbacks.push(() => listener.callback(event));\n      }\n    }\n\n    this._changes.forEach(change => {\n      const /** @type {?} */ element = change.element;\n      const /** @type {?} */ listeners = this._listeners.get(element);\n      if (listeners) {\n        listeners.forEach(listener => {\n          if (listener.triggerName == change.triggerName) {\n            handleListener(listener, change);\n          }\n        });\n      }\n    });\n\n    // upon removal ALL the animation triggers need to get fired\n    this._flaggedRemovals.forEach(element => {\n      const /** @type {?} */ listeners = this._listeners.get(element);\n      if (listeners) {\n        listeners.forEach(listener => {\n          const /** @type {?} */ triggerName = listener.triggerName;\n          const /** @type {?} */ storageProp = makeStorageProp(triggerName);\n          handleListener(listener, /** @type {?} */(( <ChangeTuple>{\n            element: element,\n            triggerName: triggerName,\n            oldValue: element[storageProp] || DEFAULT_STATE_VALUE,\n            newValue: DEFAULT_STATE_VALUE\n          })));\n        });\n      }\n    });\n\n    // remove all the listeners after everything is complete\n    Array.from(this._listeners.keys()).forEach(element => {\n      const /** @type {?} */ listenersToKeep = this._listeners.get(element).filter(l => !l.doRemove);\n      if (listenersToKeep.length) {\n        this._listeners.set(element, listenersToKeep);\n      } else {\n        this._listeners.delete(element);\n      }\n    });\n\n    onStartCallbacks.forEach(fn => fn());\n    onDoneCallbacks.forEach(fn => fn());\n    this._flaggedRemovals.clear();\n    this._changes = [];\n\n    this._onDoneFns.forEach(doneFn => doneFn());\n    this._onDoneFns = [];\n  }\n/**\n * @return {?}\n */\nget activePlayers(): AnimationPlayer[] { return []; }\n/**\n * @return {?}\n */\nget queuedPlayers(): AnimationPlayer[] { return []; }\n}\n\nfunction NoopAnimationEngine_tsickle_Closure_declarations() {\n/** @type {?} */\nNoopAnimationEngine.prototype._listeners;\n/** @type {?} */\nNoopAnimationEngine.prototype._changes;\n/** @type {?} */\nNoopAnimationEngine.prototype._flaggedRemovals;\n/** @type {?} */\nNoopAnimationEngine.prototype._onDoneFns;\n/** @type {?} */\nNoopAnimationEngine.prototype._triggerStyles;\n}\n\n/**\n * @param {?} element\n * @param {?} triggerName\n * @param {?} fromState\n * @param {?} toState\n * @param {?} phaseName\n * @param {?} totalTime\n * @return {?}\n */\nfunction makeAnimationEvent(\n    element: any, triggerName: string, fromState: string, toState: string, phaseName: string,\n    totalTime: number): AnimationEvent {\n  return /** @type {?} */(( <AnimationEvent>{element, triggerName, fromState, toState, phaseName, totalTime}));\n}\n/**\n * @param {?} property\n * @return {?}\n */\nfunction makeStorageProp(property: string): string {\n  return '_@_' + property;\n}\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {AnimationStyleNormalizer} from './animation_style_normalizer';\nexport class WebAnimationsStyleNormalizer extends AnimationStyleNormalizer {\n/**\n * @param {?} propertyName\n * @param {?} errors\n * @return {?}\n */\nnormalizePropertyName(propertyName: string, errors: string[]): string {\n    return dashCaseToCamelCase(propertyName);\n  }\n/**\n * @param {?} userProvidedProperty\n * @param {?} normalizedProperty\n * @param {?} value\n * @param {?} errors\n * @return {?}\n */\nnormalizeStyleValue(\n      userProvidedProperty: string, normalizedProperty: string, value: string|number,\n      errors: string[]): string {\n    let /** @type {?} */ unit: string = '';\n    const /** @type {?} */ strVal = value.toString().trim();\n\n    if (DIMENSIONAL_PROP_MAP[normalizedProperty] && value !== 0 && value !== '0') {\n      if (typeof value === 'number') {\n        unit = 'px';\n      } else {\n        const /** @type {?} */ valAndSuffixMatch = value.match(/^[+-]?[\\d\\.]+([a-z]*)$/);\n        if (valAndSuffixMatch && valAndSuffixMatch[1].length == 0) {\n          errors.push(`Please provide a CSS unit value for ${userProvidedProperty}:${value}`);\n        }\n      }\n    }\n    return strVal + unit;\n  }\n}\n\nconst /** @type {?} */ DIMENSIONAL_PROP_MAP = makeBooleanMap(\n    'width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent'\n        .split(','));\n/**\n * @param {?} keys\n * @return {?}\n */\nfunction makeBooleanMap(keys: string[]): {[key: string]: boolean} {\n  const /** @type {?} */ map: {[key: string]: boolean} = {};\n  keys.forEach(key => map[key] = true);\n  return map;\n}\n\nconst /** @type {?} */ DASH_CASE_REGEXP = /-+([a-z0-9])/g;\n/**\n * @param {?} input\n * @return {?}\n */\nexport function dashCaseToCamelCase(input: string): string {\n  return input.replace(DASH_CASE_REGEXP, (...m: any[]) => m[1].toUpperCase());\n}\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {AnimationMetadata, AnimationPlayer, AnimationStyleMetadata, sequence, ɵStyleData} from '@angular/animations';\n\nimport {AnimationDriver} from '../render/animation_driver';\nimport {DomAnimationEngine} from '../render/dom_animation_engine';\nimport {normalizeStyles} from '../util';\n\nimport {AnimationTimelineInstruction} from './animation_timeline_instruction';\nimport {buildAnimationKeyframes} from './animation_timeline_visitor';\nimport {validateAnimationSequence} from './animation_validator_visitor';\nimport {AnimationStyleNormalizer} from './style_normalization/animation_style_normalizer';\nexport class Animation {\nprivate _animationAst: AnimationMetadata;\n/**\n * @param {?} input\n */\nconstructor(input: AnimationMetadata|AnimationMetadata[]) {\n    const ast =\n        Array.isArray(input) ? sequence(<AnimationMetadata[]>input) : <AnimationMetadata>input;\n    const errors = validateAnimationSequence(ast);\n    if (errors.length) {\n      const errorMessage = `animation validation failed:\\n${errors.join(\"\\n\")}`;\n      throw new Error(errorMessage);\n    }\n    this._animationAst = ast;\n  }\n/**\n * @param {?} startingStyles\n * @param {?} destinationStyles\n * @return {?}\n */\nbuildTimelines(\n      startingStyles: ɵStyleData|ɵStyleData[],\n      destinationStyles: ɵStyleData|ɵStyleData[]): AnimationTimelineInstruction[] {\n    const /** @type {?} */ start = Array.isArray(startingStyles) ? normalizeStyles(startingStyles) : /** @type {?} */((\n                                                  <ɵStyleData>startingStyles));\n    const /** @type {?} */ dest = Array.isArray(destinationStyles) ? normalizeStyles(destinationStyles) : /** @type {?} */((\n                                                    <ɵStyleData>destinationStyles));\n    return buildAnimationKeyframes(this._animationAst, start, dest);\n  }\n/**\n * @param {?} injector\n * @param {?} element\n * @param {?=} startingStyles\n * @param {?=} destinationStyles\n * @return {?}\n */\nprivate create(\n      injector: any, element: any, startingStyles: ɵStyleData = {},\n      destinationStyles: ɵStyleData = {}): AnimationPlayer {\n    const /** @type {?} */ instructions = this.buildTimelines(startingStyles, destinationStyles);\n\n    // note the code below is only here to make the tests happy (once the new renderer is\n    // within core then the code below will interact with Renderer.transition(...))\n    const /** @type {?} */ driver: AnimationDriver = injector.get(AnimationDriver);\n    const /** @type {?} */ normalizer: AnimationStyleNormalizer = injector.get(AnimationStyleNormalizer);\n    const /** @type {?} */ engine = new DomAnimationEngine(driver, normalizer);\n    return engine.animateTimeline(element, instructions);\n  }\n}\n\nfunction Animation_tsickle_Closure_declarations() {\n/** @type {?} */\nAnimation.prototype._animationAst;\n}\n\n","\n/**\n * \\@experimental Animation support is experimental.\n * @abstract\n */\nexport abstract class AnimationStyleNormalizer {\n/**\n * @abstract\n * @param {?} propertyName\n * @param {?} errors\n * @return {?}\n */\nnormalizePropertyName(propertyName: string, errors: string[]) {}\n/**\n * @abstract\n * @param {?} userProvidedProperty\n * @param {?} normalizedProperty\n * @param {?} value\n * @param {?} errors\n * @return {?}\n */\nnormalizeStyleValue(\n      userProvidedProperty: string, normalizedProperty: string, value: string|number,\n      errors: string[]) {}\n}\n/**\n * \\@experimental Animation support is experimental.\n */\nexport class NoopAnimationStyleNormalizer {\n/**\n * @param {?} propertyName\n * @param {?} errors\n * @return {?}\n */\nnormalizePropertyName(propertyName: string, errors: string[]): string { return propertyName; }\n/**\n * @param {?} userProvidedProperty\n * @param {?} normalizedProperty\n * @param {?} value\n * @param {?} errors\n * @return {?}\n */\nnormalizeStyleValue(\n      userProvidedProperty: string, normalizedProperty: string, value: string|number,\n      errors: string[]): string {\n    return /** @type {?} */(( <any>value));\n  }\n}\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {AnimationEvent, AnimationPlayer, AnimationTriggerMetadata, NoopAnimationPlayer, ɵAnimationGroupPlayer, ɵStyleData} from '@angular/animations';\n\nimport {AnimationTimelineInstruction} from '../dsl/animation_timeline_instruction';\nimport {AnimationTransitionInstruction} from '../dsl/animation_transition_instruction';\nimport {AnimationTrigger, buildTrigger} from '../dsl/animation_trigger';\nimport {AnimationStyleNormalizer} from '../dsl/style_normalization/animation_style_normalizer';\nimport {eraseStyles, setStyles} from '../util';\n\nimport {AnimationDriver} from './animation_driver';\n\nexport interface QueuedAnimationTransitionTuple {\n  element: any;\n  player: AnimationPlayer;\n  triggerName: string;\n  event: AnimationEvent;\n}\n\nexport interface TriggerListenerTuple {\n  triggerName: string;\n  phase: string;\n  callback: (event: any) => any;\n}\n\nconst /** @type {?} */ MARKED_FOR_ANIMATION = 'ng-animate';\nconst /** @type {?} */ MARKED_FOR_REMOVAL = '$$ngRemove';\nexport class DomAnimationEngine {\nprivate _flaggedInserts = new Set<any>();\nprivate _queuedRemovals = new Map<any, () => any>();\nprivate _queuedTransitionAnimations: QueuedAnimationTransitionTuple[] = [];\nprivate _activeTransitionAnimations = new Map<any, {[triggerName: string]: AnimationPlayer}>();\nprivate _activeElementAnimations = new Map<any, AnimationPlayer[]>();\nprivate _elementTriggerStates = new Map<any, {[triggerName: string]: string}>();\nprivate _triggers: {[triggerName: string]: AnimationTrigger} = Object.create(null);\nprivate _triggerListeners = new Map<any, TriggerListenerTuple[]>();\nprivate _pendingListenerRemovals = new Map<any, TriggerListenerTuple[]>();\n/**\n * @param {?} _driver\n * @param {?} _normalizer\n */\nconstructor(private _driver: AnimationDriver,\nprivate _normalizer: AnimationStyleNormalizer) {}\n/**\n * @return {?}\n */\nget queuedPlayers(): AnimationPlayer[] {\n    return this._queuedTransitionAnimations.map(q => q.player);\n  }\n/**\n * @return {?}\n */\nget activePlayers(): AnimationPlayer[] {\n    const /** @type {?} */ players: AnimationPlayer[] = [];\n    this._activeElementAnimations.forEach(activePlayers => players.push(...activePlayers));\n    return players;\n  }\n/**\n * @param {?} trigger\n * @param {?=} name\n * @return {?}\n */\nregisterTrigger(trigger: AnimationTriggerMetadata, name: string = null): void {\n    name = name || trigger.name;\n    if (this._triggers[name]) {\n      return;\n    }\n    this._triggers[name] = buildTrigger(name, trigger.definitions);\n  }\n/**\n * @param {?} element\n * @param {?} domFn\n * @return {?}\n */\nonInsert(element: any, domFn: () => any): void {\n    this._flaggedInserts.add(element);\n    domFn();\n  }\n/**\n * @param {?} element\n * @param {?} domFn\n * @return {?}\n */\nonRemove(element: any, domFn: () => any): void {\n    let /** @type {?} */ lookupRef = this._elementTriggerStates.get(element);\n    if (lookupRef) {\n      const /** @type {?} */ possibleTriggers = Object.keys(lookupRef);\n      const /** @type {?} */ hasRemoval = possibleTriggers.some(triggerName => {\n        const /** @type {?} */ oldValue = lookupRef[triggerName];\n        const /** @type {?} */ instruction = this._triggers[triggerName].matchTransition(oldValue, 'void');\n        return !!instruction;\n      });\n      if (hasRemoval) {\n        element[MARKED_FOR_REMOVAL] = true;\n        this._queuedRemovals.set(element, domFn);\n        return;\n      }\n    }\n\n    // this means that there are no animations to take on this\n    // leave operation therefore we should fire the done|start callbacks\n    if (this._triggerListeners.has(element)) {\n      element[MARKED_FOR_REMOVAL] = true;\n      this._queuedRemovals.set(element, () => {});\n    }\n    domFn();\n  }\n/**\n * @param {?} element\n * @param {?} property\n * @param {?} value\n * @return {?}\n */\nsetProperty(element: any, property: string, value: any): void {\n    const /** @type {?} */ trigger = this._triggers[property];\n    if (!trigger) {\n      throw new Error(`The provided animation trigger \"${property}\" has not been registered!`);\n    }\n\n    let /** @type {?} */ lookupRef = this._elementTriggerStates.get(element);\n    if (!lookupRef) {\n      this._elementTriggerStates.set(element, lookupRef = {});\n    }\n\n    let /** @type {?} */ oldValue = lookupRef[property] || 'void';\n    if (oldValue != value) {\n      let /** @type {?} */ instruction = trigger.matchTransition(oldValue, value);\n      if (!instruction) {\n        // we do this to make sure we always have an animation player so\n        // that callback operations are properly called\n        instruction = trigger.createFallbackInstruction(oldValue, value);\n      }\n      this.animateTransition(element, instruction);\n      lookupRef[property] = value;\n    }\n  }\n/**\n * @param {?} element\n * @param {?} eventName\n * @param {?} eventPhase\n * @param {?} callback\n * @return {?}\n */\nlisten(element: any, eventName: string, eventPhase: string, callback: (event: any) => any):\n      () => void {\n    if (!eventPhase) {\n      throw new Error(\n          `Unable to listen on the animation trigger \"${eventName}\" because the provided event is undefined!`);\n    }\n    if (!this._triggers[eventName]) {\n      throw new Error(\n          `Unable to listen on the animation trigger event \"${eventPhase}\" because the animation trigger \"${eventName}\" doesn't exist!`);\n    }\n    let /** @type {?} */ elementListeners = this._triggerListeners.get(element);\n    if (!elementListeners) {\n      this._triggerListeners.set(element, elementListeners = []);\n    }\n    validatePlayerEvent(eventName, eventPhase);\n    const /** @type {?} */ tuple = /** @type {?} */(( <TriggerListenerTuple>{triggerName: eventName, phase: eventPhase, callback}));\n    elementListeners.push(tuple);\n    return () => {\n      // this is queued up in the event that a removal animation is set\n      // to fire on the element (the listeners need to be set during flush)\n      getOrSetAsInMap(this._pendingListenerRemovals, element, []).push(tuple);\n    };\n  }\n/**\n * @return {?}\n */\nprivate _clearPendingListenerRemovals() {\n    this._pendingListenerRemovals.forEach((tuples: TriggerListenerTuple[], element: any) => {\n      const /** @type {?} */ elementListeners = this._triggerListeners.get(element);\n      if (elementListeners) {\n        tuples.forEach(tuple => {\n          const /** @type {?} */ index = elementListeners.indexOf(tuple);\n          if (index >= 0) {\n            elementListeners.splice(index, 1);\n          }\n        });\n      }\n    });\n    this._pendingListenerRemovals.clear();\n  }\n/**\n * @param {?} element\n * @return {?}\n */\nprivate _onRemovalTransition(element: any): AnimationPlayer[] {\n    // when a parent animation is set to trigger a removal we want to\n    // find all of the children that are currently animating and clear\n    // them out by destroying each of them.\n    const /** @type {?} */ elms = element.querySelectorAll(MARKED_FOR_ANIMATION);\n    for (let /** @type {?} */ i = 0; i < elms.length; i++) {\n      const /** @type {?} */ elm = elms[i];\n      const /** @type {?} */ activePlayers = this._activeElementAnimations.get(elm);\n      if (activePlayers) {\n        activePlayers.forEach(player => player.destroy());\n      }\n\n      const /** @type {?} */ activeTransitions = this._activeTransitionAnimations.get(elm);\n      if (activeTransitions) {\n        Object.keys(activeTransitions).forEach(triggerName => {\n          const /** @type {?} */ player = activeTransitions[triggerName];\n          if (player) {\n            player.destroy();\n          }\n        });\n      }\n    }\n\n    // we make a copy of the array because the actual source array is modified\n    // each time a player is finished/destroyed (the forEach loop would fail otherwise)\n    return copyArray(this._activeElementAnimations.get(element));\n  }\n/**\n * @param {?} element\n * @param {?} instruction\n * @return {?}\n */\nanimateTransition(element: any, instruction: AnimationTransitionInstruction): AnimationPlayer {\n    const /** @type {?} */ triggerName = instruction.triggerName;\n\n    let /** @type {?} */ previousPlayers: AnimationPlayer[];\n    if (instruction.isRemovalTransition) {\n      previousPlayers = this._onRemovalTransition(element);\n    } else {\n      previousPlayers = [];\n      const /** @type {?} */ existingTransitions = this._activeTransitionAnimations.get(element);\n      const /** @type {?} */ existingPlayer = existingTransitions ? existingTransitions[triggerName] : null;\n      if (existingPlayer) {\n        previousPlayers.push(existingPlayer);\n      }\n    }\n\n    // it's important to do this step before destroying the players\n    // so that the onDone callback below won't fire before this\n    eraseStyles(element, instruction.fromStyles);\n\n    // we first run this so that the previous animation player\n    // data can be passed into the successive animation players\n    let /** @type {?} */ totalTime = 0;\n    const /** @type {?} */ players = instruction.timelines.map(timelineInstruction => {\n      totalTime = Math.max(totalTime, timelineInstruction.totalTime);\n      return this._buildPlayer(element, timelineInstruction, previousPlayers);\n    });\n\n    previousPlayers.forEach(previousPlayer => previousPlayer.destroy());\n    const /** @type {?} */ player = optimizeGroupPlayer(players);\n    player.onDone(() => {\n      player.destroy();\n      const /** @type {?} */ elmTransitionMap = this._activeTransitionAnimations.get(element);\n      if (elmTransitionMap) {\n        delete elmTransitionMap[triggerName];\n        if (Object.keys(elmTransitionMap).length == 0) {\n          this._activeTransitionAnimations.delete(element);\n        }\n      }\n      deleteFromArrayMap(this._activeElementAnimations, element, player);\n      setStyles(element, instruction.toStyles);\n    });\n\n    const /** @type {?} */ elmTransitionMap = getOrSetAsInMap(this._activeTransitionAnimations, element, {});\n    elmTransitionMap[triggerName] = player;\n\n    this._queuePlayer(\n        element, triggerName, player,\n        makeAnimationEvent(\n            element, triggerName, instruction.fromState, instruction.toState,\n            null,  // this will be filled in during event creation\n            totalTime));\n\n    return player;\n  }\n/**\n * @param {?} element\n * @param {?} instructions\n * @param {?=} previousPlayers\n * @return {?}\n */\npublic animateTimeline(\n      element: any, instructions: AnimationTimelineInstruction[],\n      previousPlayers: AnimationPlayer[] = []): AnimationPlayer {\n    const /** @type {?} */ players = instructions.map(instruction => {\n      const /** @type {?} */ player = this._buildPlayer(element, instruction, previousPlayers);\n      player.onDestroy(\n          () => { deleteFromArrayMap(this._activeElementAnimations, element, player); });\n      player.init();\n\n      this._markPlayerAsActive(element, player);\n      return player;\n    });\n    return optimizeGroupPlayer(players);\n  }\n/**\n * @param {?} element\n * @param {?} instruction\n * @param {?} previousPlayers\n * @return {?}\n */\nprivate _buildPlayer(\n      element: any, instruction: AnimationTimelineInstruction,\n      previousPlayers: AnimationPlayer[]): AnimationPlayer {\n    return this._driver.animate(\n        element, this._normalizeKeyframes(instruction.keyframes), instruction.duration,\n        instruction.delay, instruction.easing, previousPlayers);\n  }\n/**\n * @param {?} keyframes\n * @return {?}\n */\nprivate _normalizeKeyframes(keyframes: ɵStyleData[]): ɵStyleData[] {\n    const /** @type {?} */ errors: string[] = [];\n    const /** @type {?} */ normalizedKeyframes: ɵStyleData[] = [];\n    keyframes.forEach(kf => {\n      const /** @type {?} */ normalizedKeyframe: ɵStyleData = {};\n      Object.keys(kf).forEach(prop => {\n        let /** @type {?} */ normalizedProp = prop;\n        let /** @type {?} */ normalizedValue = kf[prop];\n        if (prop != 'offset') {\n          normalizedProp = this._normalizer.normalizePropertyName(prop, errors);\n          normalizedValue =\n              this._normalizer.normalizeStyleValue(prop, normalizedProp, kf[prop], errors);\n        }\n        normalizedKeyframe[normalizedProp] = normalizedValue;\n      });\n      normalizedKeyframes.push(normalizedKeyframe);\n    });\n    if (errors.length) {\n      const /** @type {?} */ LINE_START = '\\n - ';\n      throw new Error(\n          `Unable to animate due to the following errors:${LINE_START}${errors.join(LINE_START)}`);\n    }\n    return normalizedKeyframes;\n  }\n/**\n * @param {?} element\n * @param {?} player\n * @return {?}\n */\nprivate _markPlayerAsActive(element: any, player: AnimationPlayer) {\n    const /** @type {?} */ elementAnimations = getOrSetAsInMap(this._activeElementAnimations, element, []);\n    elementAnimations.push(player);\n  }\n/**\n * @param {?} element\n * @param {?} triggerName\n * @param {?} player\n * @param {?} event\n * @return {?}\n */\nprivate _queuePlayer(\n      element: any, triggerName: string, player: AnimationPlayer, event: AnimationEvent) {\n    const /** @type {?} */ tuple = /** @type {?} */(( <QueuedAnimationTransitionTuple>{element, player, triggerName, event}));\n    this._queuedTransitionAnimations.push(tuple);\n    player.init();\n\n    element.classList.add(MARKED_FOR_ANIMATION);\n    player.onDone(() => { element.classList.remove(MARKED_FOR_ANIMATION); });\n  }\n/**\n * @return {?}\n */\nprivate _flushQueuedAnimations() {\n    parentLoop: while (this._queuedTransitionAnimations.length) {\n      const {player, element, triggerName, event} = this._queuedTransitionAnimations.shift();\n\n      let /** @type {?} */ parent = element;\n      while (parent = parent.parentNode) {\n        // this means that a parent element will or will not\n        // have its own animation operation which in this case\n        // there's no point in even trying to do an animation\n        if (parent[MARKED_FOR_REMOVAL]) continue parentLoop;\n      }\n\n      const /** @type {?} */ listeners = this._triggerListeners.get(element);\n      if (listeners) {\n        listeners.forEach(tuple => {\n          if (tuple.triggerName == triggerName) {\n            listenOnPlayer(player, tuple.phase, event, tuple.callback);\n          }\n        });\n      }\n\n      // if a removal exists for the given element then we need cancel\n      // all the queued players so that a proper removal animation can go\n      if (this._queuedRemovals.has(element)) {\n        player.destroy();\n        continue;\n      }\n\n      this._markPlayerAsActive(element, player);\n\n      // in the event that an animation throws an error then we do\n      // not want to re-run animations on any previous animations\n      // if they have already been kicked off beforehand\n      if (!player.hasStarted()) {\n        player.play();\n      }\n    }\n  }\n/**\n * @return {?}\n */\nflush() {\n    const /** @type {?} */ leaveListeners = new Map<any, TriggerListenerTuple[]>();\n    this._queuedRemovals.forEach((callback, element) => {\n      const /** @type {?} */ tuple = this._pendingListenerRemovals.get(element);\n      if (tuple) {\n        leaveListeners.set(element, tuple);\n        this._pendingListenerRemovals.delete(element);\n      }\n    });\n\n    this._clearPendingListenerRemovals();\n    this._pendingListenerRemovals = leaveListeners;\n\n    this._flushQueuedAnimations();\n\n    let /** @type {?} */ flushAgain = false;\n    this._queuedRemovals.forEach((callback, element) => {\n      // an item that was inserted/removed in the same flush means\n      // that an animation should not happen anyway\n      if (this._flaggedInserts.has(element)) return;\n\n      let /** @type {?} */ parent = element;\n      let /** @type {?} */ players: AnimationPlayer[] = [];\n      while (parent = parent.parentNode) {\n        // there is no reason to even try to\n        if (parent[MARKED_FOR_REMOVAL]) {\n          callback();\n          return;\n        }\n\n        const /** @type {?} */ match = this._activeElementAnimations.get(parent);\n        if (match) {\n          players.push(...match);\n          break;\n        }\n      }\n\n      // the loop was unable to find an parent that is animating even\n      // though this element has set to be removed, so the algorithm\n      // should check to see if there are any triggers on the element\n      // that are present to handle a leave animation and then setup\n      // those players to facilitate the callback after done\n      if (players.length == 0) {\n        // this means that the element has valid state triggers\n        const /** @type {?} */ stateDetails = this._elementTriggerStates.get(element);\n        if (stateDetails) {\n          Object.keys(stateDetails).forEach(triggerName => {\n            flushAgain = true;\n            const /** @type {?} */ oldValue = stateDetails[triggerName];\n            const /** @type {?} */ instruction = this._triggers[triggerName].matchTransition(oldValue, 'void');\n            if (instruction) {\n              players.push(this.animateTransition(element, instruction));\n            } else {\n              const /** @type {?} */ event = makeAnimationEvent(element, triggerName, oldValue, 'void', '', 0);\n              const /** @type {?} */ player = new NoopAnimationPlayer();\n              this._queuePlayer(element, triggerName, player, event);\n            }\n          });\n        }\n      }\n\n      if (players.length) {\n        optimizeGroupPlayer(players).onDone(callback);\n      } else {\n        callback();\n      }\n    });\n\n    this._queuedRemovals.clear();\n    this._flaggedInserts.clear();\n\n    // this means that one or more leave animations were detected\n    if (flushAgain) {\n      this._flushQueuedAnimations();\n      this._clearPendingListenerRemovals();\n    }\n  }\n}\n\nfunction DomAnimationEngine_tsickle_Closure_declarations() {\n/** @type {?} */\nDomAnimationEngine.prototype._flaggedInserts;\n/** @type {?} */\nDomAnimationEngine.prototype._queuedRemovals;\n/** @type {?} */\nDomAnimationEngine.prototype._queuedTransitionAnimations;\n/** @type {?} */\nDomAnimationEngine.prototype._activeTransitionAnimations;\n/** @type {?} */\nDomAnimationEngine.prototype._activeElementAnimations;\n/** @type {?} */\nDomAnimationEngine.prototype._elementTriggerStates;\n/** @type {?} */\nDomAnimationEngine.prototype._triggers;\n/** @type {?} */\nDomAnimationEngine.prototype._triggerListeners;\n/** @type {?} */\nDomAnimationEngine.prototype._pendingListenerRemovals;\n/** @type {?} */\nDomAnimationEngine.prototype._driver;\n/** @type {?} */\nDomAnimationEngine.prototype._normalizer;\n}\n\n/**\n * @param {?} map\n * @param {?} key\n * @param {?} defaultValue\n * @return {?}\n */\nfunction getOrSetAsInMap(map: Map<any, any>, key: any, defaultValue: any) {\n  let /** @type {?} */ value = map.get(key);\n  if (!value) {\n    map.set(key, value = defaultValue);\n  }\n  return value;\n}\n/**\n * @param {?} map\n * @param {?} key\n * @param {?} value\n * @return {?}\n */\nfunction deleteFromArrayMap(map: Map<any, any[]>, key: any, value: any) {\n  let /** @type {?} */ arr = map.get(key);\n  if (arr) {\n    const /** @type {?} */ index = arr.indexOf(value);\n    if (index >= 0) {\n      arr.splice(index, 1);\n      if (arr.length == 0) {\n        map.delete(key);\n      }\n    }\n  }\n}\n/**\n * @param {?} players\n * @return {?}\n */\nfunction optimizeGroupPlayer(players: AnimationPlayer[]): AnimationPlayer {\n  switch (players.length) {\n    case 0:\n      return new NoopAnimationPlayer();\n    case 1:\n      return players[0];\n    default:\n      return new ɵAnimationGroupPlayer(players);\n  }\n}\n/**\n * @param {?} source\n * @return {?}\n */\nfunction copyArray(source: any[]): any[] {\n  return source ? source.splice(0) : [];\n}\n/**\n * @param {?} triggerName\n * @param {?} eventName\n * @return {?}\n */\nfunction validatePlayerEvent(triggerName: string, eventName: string) {\n  switch (eventName) {\n    case 'start':\n    case 'done':\n      return;\n    default:\n      throw new Error(\n          `The provided animation trigger event \"${eventName}\" for the animation trigger \"${triggerName}\" is not supported!`);\n  }\n}\n/**\n * @param {?} player\n * @param {?} eventName\n * @param {?} baseEvent\n * @param {?} callback\n * @return {?}\n */\nfunction listenOnPlayer(\n    player: AnimationPlayer, eventName: string, baseEvent: AnimationEvent,\n    callback: (event: any) => any) {\n  switch (eventName) {\n    case 'start':\n      player.onStart(() => {\n        const /** @type {?} */ event = copyAnimationEvent(baseEvent);\n        event.phaseName = 'start';\n        callback(event);\n      });\n      break;\n    case 'done':\n      player.onDone(() => {\n        const /** @type {?} */ event = copyAnimationEvent(baseEvent);\n        event.phaseName = 'done';\n        callback(event);\n      });\n      break;\n  }\n}\n/**\n * @param {?} e\n * @return {?}\n */\nfunction copyAnimationEvent(e: AnimationEvent): AnimationEvent {\n  return makeAnimationEvent(\n      e.element, e.triggerName, e.fromState, e.toState, e.phaseName, e.totalTime);\n}\n/**\n * @param {?} element\n * @param {?} triggerName\n * @param {?} fromState\n * @param {?} toState\n * @param {?} phaseName\n * @param {?} totalTime\n * @return {?}\n */\nfunction makeAnimationEvent(\n    element: any, triggerName: string, fromState: string, toState: string, phaseName: string,\n    totalTime: number): AnimationEvent {\n  return /** @type {?} */(( <AnimationEvent>{element, triggerName, fromState, toState, phaseName, totalTime}));\n}\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {AnimationAnimateMetadata, AnimationGroupMetadata, AnimationKeyframesSequenceMetadata, AnimationMetadata, AnimationSequenceMetadata, AnimationStateMetadata, AnimationStyleMetadata, AnimationTransitionMetadata, ɵStyleData} from '@angular/animations';\n\nimport {copyStyles, normalizeStyles} from '../util';\n\nimport {AnimationDslVisitor, visitAnimationNode} from './animation_dsl_visitor';\nimport {parseTransitionExpr} from './animation_transition_expr';\nimport {AnimationTransitionFactory} from './animation_transition_factory';\nimport {AnimationTransitionInstruction, createTransitionInstruction} from './animation_transition_instruction';\nimport {validateAnimationSequence} from './animation_validator_visitor';\n/**\n * \\@experimental Animation support is experimental.\n * @param {?} name\n * @param {?} definitions\n * @return {?}\n */\nexport function buildTrigger(name: string, definitions: AnimationMetadata[]): AnimationTrigger {\n  return new AnimationTriggerVisitor().buildTrigger(name, definitions);\n}\n/**\n * \\@experimental Animation support is experimental.\n */\nexport class AnimationTrigger {\npublic transitionFactories: AnimationTransitionFactory[] = [];\npublic states: {[stateName: string]: ɵStyleData} = {};\n/**\n * @param {?} name\n * @param {?} states\n * @param {?} _transitionAsts\n */\nconstructor(\npublic name: string, states: {[stateName: string]: ɵStyleData},\nprivate _transitionAsts: AnimationTransitionMetadata[]) {\n    Object.keys(states).forEach(\n        stateName => { this.states[stateName] = copyStyles(states[stateName], false); });\n\n    const errors: string[] = [];\n    _transitionAsts.forEach(ast => {\n      const exprs = parseTransitionExpr(ast.expr, errors);\n      const sequenceErrors = validateAnimationSequence(ast);\n      if (sequenceErrors.length) {\n        errors.push(...sequenceErrors);\n      } else {\n        this.transitionFactories.push(\n            new AnimationTransitionFactory(this.name, ast, exprs, states));\n      }\n    });\n\n    if (errors.length) {\n      const LINE_START = '\\n - ';\n      throw new Error(\n          `Animation parsing for the ${name} trigger have failed:${LINE_START}${errors.join(LINE_START)}`);\n    }\n  }\n/**\n * @param {?} currentState\n * @param {?} nextState\n * @return {?}\n */\ncreateFallbackInstruction(currentState: any, nextState: any): AnimationTransitionInstruction {\n    const /** @type {?} */ backupStateStyles = this.states['*'] || {};\n    const /** @type {?} */ currentStateStyles = this.states[currentState] || backupStateStyles;\n    const /** @type {?} */ nextStateStyles = this.states[nextState] || backupStateStyles;\n    return createTransitionInstruction(\n        this.name, currentState, nextState, nextState == 'void', currentStateStyles,\n        nextStateStyles, []);\n  }\n/**\n * @param {?} currentState\n * @param {?} nextState\n * @return {?}\n */\nmatchTransition(currentState: any, nextState: any): AnimationTransitionInstruction {\n    for (let /** @type {?} */ i = 0; i < this.transitionFactories.length; i++) {\n      let /** @type {?} */ result = this.transitionFactories[i].match(currentState, nextState);\n      if (result) return result;\n    }\n  }\n}\n\nfunction AnimationTrigger_tsickle_Closure_declarations() {\n/** @type {?} */\nAnimationTrigger.prototype.transitionFactories;\n/** @type {?} */\nAnimationTrigger.prototype.states;\n/** @type {?} */\nAnimationTrigger.prototype.name;\n/** @type {?} */\nAnimationTrigger.prototype._transitionAsts;\n}\n\nclass AnimationTriggerContext {\npublic errors: string[] = [];\npublic states: {[stateName: string]: ɵStyleData} = {};\npublic transitions: AnimationTransitionMetadata[] = [];\n}\n\nfunction AnimationTriggerContext_tsickle_Closure_declarations() {\n/** @type {?} */\nAnimationTriggerContext.prototype.errors;\n/** @type {?} */\nAnimationTriggerContext.prototype.states;\n/** @type {?} */\nAnimationTriggerContext.prototype.transitions;\n}\n\nclass AnimationTriggerVisitor implements AnimationDslVisitor {\n/**\n * @param {?} name\n * @param {?} definitions\n * @return {?}\n */\nbuildTrigger(name: string, definitions: AnimationMetadata[]): AnimationTrigger {\n    const /** @type {?} */ context = new AnimationTriggerContext();\n    definitions.forEach(def => visitAnimationNode(this, def, context));\n    return new AnimationTrigger(name, context.states, context.transitions);\n  }\n/**\n * @param {?} ast\n * @param {?} context\n * @return {?}\n */\nvisitState(ast: AnimationStateMetadata, context: any): any {\n    const /** @type {?} */ styles = normalizeStyles(ast.styles.styles);\n    ast.name.split(/\\s*,\\s*/).forEach(name => { context.states[name] = styles; });\n  }\n/**\n * @param {?} ast\n * @param {?} context\n * @return {?}\n */\nvisitTransition(ast: AnimationTransitionMetadata, context: any): any {\n    context.transitions.push(ast);\n  }\n/**\n * @param {?} ast\n * @param {?} context\n * @return {?}\n */\nvisitSequence(ast: AnimationSequenceMetadata, context: any) {\n    // these values are not visited in this AST\n  }\n/**\n * @param {?} ast\n * @param {?} context\n * @return {?}\n */\nvisitGroup(ast: AnimationGroupMetadata, context: any) {\n    // these values are not visited in this AST\n  }\n/**\n * @param {?} ast\n * @param {?} context\n * @return {?}\n */\nvisitAnimate(ast: AnimationAnimateMetadata, context: any) {\n    // these values are not visited in this AST\n  }\n/**\n * @param {?} ast\n * @param {?} context\n * @return {?}\n */\nvisitStyle(ast: AnimationStyleMetadata, context: any) {\n    // these values are not visited in this AST\n  }\n/**\n * @param {?} ast\n * @param {?} context\n * @return {?}\n */\nvisitKeyframeSequence(ast: AnimationKeyframesSequenceMetadata, context: any) {\n    // these values are not visited in this AST\n  }\n}\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {AnimateTimings, AnimationAnimateMetadata, AnimationGroupMetadata, AnimationKeyframesSequenceMetadata, AnimationMetadata, AnimationMetadataType, AnimationSequenceMetadata, AnimationStateMetadata, AnimationStyleMetadata, AnimationTransitionMetadata, sequence} from '@angular/animations';\n\nimport {normalizeStyles, parseTimeExpression} from '../util';\n\nimport {AnimationDslVisitor, visitAnimationNode} from './animation_dsl_visitor';\n\nexport type StyleTimeTuple = {\n  startTime: number; endTime: number;\n};\n/**\n * @param {?} ast\n * @return {?}\n */\nexport function validateAnimationSequence(ast: AnimationMetadata) {\n  const /** @type {?} */ normalizedAst =\n      Array.isArray(ast) ? sequence( /** @type {?} */((<AnimationMetadata[]>ast))) : /** @type {?} */(( <AnimationMetadata>ast));\n  return new AnimationValidatorVisitor().validate(normalizedAst);\n}\nexport class AnimationValidatorVisitor implements AnimationDslVisitor {\n/**\n * @param {?} ast\n * @return {?}\n */\nvalidate(ast: AnimationMetadata): string[] {\n    const /** @type {?} */ context = new AnimationValidatorContext();\n    visitAnimationNode(this, ast, context);\n    return context.errors;\n  }\n/**\n * @param {?} ast\n * @param {?} context\n * @return {?}\n */\nvisitState(ast: AnimationStateMetadata, context: any): any {\n    // these values are not visited in this AST\n  }\n/**\n * @param {?} ast\n * @param {?} context\n * @return {?}\n */\nvisitTransition(ast: AnimationTransitionMetadata, context: any): any {\n    // these values are not visited in this AST\n  }\n/**\n * @param {?} ast\n * @param {?} context\n * @return {?}\n */\nvisitSequence(ast: AnimationSequenceMetadata, context: AnimationValidatorContext): any {\n    ast.steps.forEach(step => visitAnimationNode(this, step, context));\n  }\n/**\n * @param {?} ast\n * @param {?} context\n * @return {?}\n */\nvisitGroup(ast: AnimationGroupMetadata, context: AnimationValidatorContext): any {\n    const /** @type {?} */ currentTime = context.currentTime;\n    let /** @type {?} */ furthestTime = 0;\n    ast.steps.forEach(step => {\n      context.currentTime = currentTime;\n      visitAnimationNode(this, step, context);\n      furthestTime = Math.max(furthestTime, context.currentTime);\n    });\n    context.currentTime = furthestTime;\n  }\n/**\n * @param {?} ast\n * @param {?} context\n * @return {?}\n */\nvisitAnimate(ast: AnimationAnimateMetadata, context: AnimationValidatorContext): any {\n    // we reassign the timings here so that they are not reparsed each\n    // time an animation occurs\n    context.currentAnimateTimings = ast.timings =\n        parseTimeExpression( /** @type {?} */((<string|number>ast.timings)), context.errors);\n\n    const /** @type {?} */ astType = ast.styles && ast.styles.type;\n    if (astType == AnimationMetadataType.KeyframeSequence) {\n      this.visitKeyframeSequence( /** @type {?} */((<AnimationKeyframesSequenceMetadata>ast.styles)), context);\n    } else {\n      context.currentTime +=\n          context.currentAnimateTimings.duration + context.currentAnimateTimings.delay;\n      if (astType == AnimationMetadataType.Style) {\n        this.visitStyle( /** @type {?} */((<AnimationStyleMetadata>ast.styles)), context);\n      }\n    }\n\n    context.currentAnimateTimings = null;\n  }\n/**\n * @param {?} ast\n * @param {?} context\n * @return {?}\n */\nvisitStyle(ast: AnimationStyleMetadata, context: AnimationValidatorContext): any {\n    const /** @type {?} */ styleData = normalizeStyles(ast.styles);\n    const /** @type {?} */ timings = context.currentAnimateTimings;\n    let /** @type {?} */ endTime = context.currentTime;\n    let /** @type {?} */ startTime = context.currentTime;\n    if (timings && startTime > 0) {\n      startTime -= timings.duration + timings.delay;\n    }\n    Object.keys(styleData).forEach(prop => {\n      const /** @type {?} */ collectedEntry = context.collectedStyles[prop];\n      let /** @type {?} */ updateCollectedStyle = true;\n      if (collectedEntry) {\n        if (startTime != endTime && startTime >= collectedEntry.startTime &&\n            endTime <= collectedEntry.endTime) {\n          context.errors.push(\n              `The CSS property \"${prop}\" that exists between the times of \"${collectedEntry.startTime}ms\" and \"${collectedEntry.endTime}ms\" is also being animated in a parallel animation between the times of \"${startTime}ms\" and \"${endTime}ms\"`);\n          updateCollectedStyle = false;\n        }\n\n        // we always choose the smaller start time value since we\n        // want to have a record of the entire animation window where\n        // the style property is being animated in between\n        startTime = collectedEntry.startTime;\n      }\n      if (updateCollectedStyle) {\n        context.collectedStyles[prop] = {startTime, endTime};\n      }\n    });\n  }\n/**\n * @param {?} ast\n * @param {?} context\n * @return {?}\n */\nvisitKeyframeSequence(\n      ast: AnimationKeyframesSequenceMetadata, context: AnimationValidatorContext): any {\n    let /** @type {?} */ totalKeyframesWithOffsets = 0;\n    const /** @type {?} */ offsets: number[] = [];\n    let /** @type {?} */ offsetsOutOfOrder = false;\n    let /** @type {?} */ keyframesOutOfRange = false;\n    let /** @type {?} */ previousOffset: number = 0;\n    ast.steps.forEach(step => {\n      const /** @type {?} */ styleData = normalizeStyles(step.styles);\n      let /** @type {?} */ offset = 0;\n      if (styleData.hasOwnProperty('offset')) {\n        totalKeyframesWithOffsets++;\n        offset = /** @type {?} */(( <number>styleData['offset']));\n      }\n      keyframesOutOfRange = keyframesOutOfRange || offset < 0 || offset > 1;\n      offsetsOutOfOrder = offsetsOutOfOrder || offset < previousOffset;\n      previousOffset = offset;\n      offsets.push(offset);\n    });\n\n    if (keyframesOutOfRange) {\n      context.errors.push(`Please ensure that all keyframe offsets are between 0 and 1`);\n    }\n\n    if (offsetsOutOfOrder) {\n      context.errors.push(`Please ensure that all keyframe offsets are in order`);\n    }\n\n    const /** @type {?} */ length = ast.steps.length;\n    let /** @type {?} */ generatedOffset = 0;\n    if (totalKeyframesWithOffsets > 0 && totalKeyframesWithOffsets < length) {\n      context.errors.push(`Not all style() steps within the declared keyframes() contain offsets`);\n    } else if (totalKeyframesWithOffsets == 0) {\n      generatedOffset = 1 / length;\n    }\n\n    const /** @type {?} */ limit = length - 1;\n    const /** @type {?} */ currentTime = context.currentTime;\n    const /** @type {?} */ animateDuration = context.currentAnimateTimings.duration;\n    ast.steps.forEach((step, i) => {\n      const /** @type {?} */ offset = generatedOffset > 0 ? (i == limit ? 1 : (generatedOffset * i)) : offsets[i];\n      const /** @type {?} */ durationUpToThisFrame = offset * animateDuration;\n      context.currentTime =\n          currentTime + context.currentAnimateTimings.delay + durationUpToThisFrame;\n      context.currentAnimateTimings.duration = durationUpToThisFrame;\n      this.visitStyle(step, context);\n    });\n  }\n}\nexport class AnimationValidatorContext {\npublic errors: string[] = [];\npublic currentTime: number = 0;\npublic currentAnimateTimings: AnimateTimings;\npublic collectedStyles: {[propName: string]: StyleTimeTuple} = {};\n}\n\nfunction AnimationValidatorContext_tsickle_Closure_declarations() {\n/** @type {?} */\nAnimationValidatorContext.prototype.errors;\n/** @type {?} */\nAnimationValidatorContext.prototype.currentTime;\n/** @type {?} */\nAnimationValidatorContext.prototype.currentAnimateTimings;\n/** @type {?} */\nAnimationValidatorContext.prototype.collectedStyles;\n}\n\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {AnimationMetadata, AnimationTransitionMetadata, sequence, ɵStyleData} from '@angular/animations';\n\nimport {buildAnimationKeyframes} from './animation_timeline_visitor';\nimport {TransitionMatcherFn} from './animation_transition_expr';\nimport {AnimationTransitionInstruction, createTransitionInstruction} from './animation_transition_instruction';\nexport class AnimationTransitionFactory {\nprivate _animationAst: AnimationMetadata;\n/**\n * @param {?} _triggerName\n * @param {?} ast\n * @param {?} matchFns\n * @param {?} _stateStyles\n */\nconstructor(\nprivate _triggerName: string, ast: AnimationTransitionMetadata,\nprivate matchFns: TransitionMatcherFn[],\nprivate _stateStyles: {[stateName: string]: ɵStyleData}) {\n    const normalizedAst = Array.isArray(ast.animation) ?\n        sequence(<AnimationMetadata[]>ast.animation) :\n        <AnimationMetadata>ast.animation;\n    this._animationAst = normalizedAst;\n  }\n/**\n * @param {?} currentState\n * @param {?} nextState\n * @return {?}\n */\nmatch(currentState: any, nextState: any): AnimationTransitionInstruction {\n    if (!oneOrMoreTransitionsMatch(this.matchFns, currentState, nextState)) return;\n\n    const /** @type {?} */ backupStateStyles = this._stateStyles['*'] || {};\n    const /** @type {?} */ currentStateStyles = this._stateStyles[currentState] || backupStateStyles;\n    const /** @type {?} */ nextStateStyles = this._stateStyles[nextState] || backupStateStyles;\n\n    const /** @type {?} */ timelines =\n        buildAnimationKeyframes(this._animationAst, currentStateStyles, nextStateStyles);\n\n    return createTransitionInstruction(\n        this._triggerName, currentState, nextState, nextState === 'void', currentStateStyles,\n        nextStateStyles, timelines);\n  }\n}\n\nfunction AnimationTransitionFactory_tsickle_Closure_declarations() {\n/** @type {?} */\nAnimationTransitionFactory.prototype._animationAst;\n/** @type {?} */\nAnimationTransitionFactory.prototype._triggerName;\n/** @type {?} */\nAnimationTransitionFactory.prototype.matchFns;\n/** @type {?} */\nAnimationTransitionFactory.prototype._stateStyles;\n}\n\n/**\n * @param {?} matchFns\n * @param {?} currentState\n * @param {?} nextState\n * @return {?}\n */\nfunction oneOrMoreTransitionsMatch(\n    matchFns: TransitionMatcherFn[], currentState: any, nextState: any): boolean {\n  return matchFns.some(fn => fn(currentState, nextState));\n}\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {ɵStyleData} from '@angular/animations';\nimport {AnimationEngineInstruction, AnimationTransitionInstructionType} from '../render/animation_engine_instruction';\nimport {AnimationTimelineInstruction} from './animation_timeline_instruction';\n\nexport interface AnimationTransitionInstruction extends AnimationEngineInstruction {\n  triggerName: string;\n  isRemovalTransition: boolean;\n  fromState: string;\n  fromStyles: ɵStyleData;\n  toState: string;\n  toStyles: ɵStyleData;\n  timelines: AnimationTimelineInstruction[];\n}\n/**\n * @param {?} triggerName\n * @param {?} fromState\n * @param {?} toState\n * @param {?} isRemovalTransition\n * @param {?} fromStyles\n * @param {?} toStyles\n * @param {?} timelines\n * @return {?}\n */\nexport function createTransitionInstruction(\n    triggerName: string, fromState: string, toState: string, isRemovalTransition: boolean,\n    fromStyles: ɵStyleData, toStyles: ɵStyleData,\n    timelines: AnimationTimelineInstruction[]): AnimationTransitionInstruction {\n  return {\n    type: AnimationTransitionInstructionType.TransitionAnimation,\n    triggerName,\n    isRemovalTransition,\n    fromState,\n    fromStyles,\n    toState,\n    toStyles,\n    timelines\n  };\n}\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {AUTO_STYLE, AnimateTimings, AnimationAnimateMetadata, AnimationGroupMetadata, AnimationKeyframesSequenceMetadata, AnimationMetadata, AnimationMetadataType, AnimationSequenceMetadata, AnimationStateMetadata, AnimationStyleMetadata, AnimationTransitionMetadata, sequence, style, ɵStyleData} from '@angular/animations';\n\nimport {copyStyles, normalizeStyles, parseTimeExpression} from '../util';\n\nimport {AnimationDslVisitor, visitAnimationNode} from './animation_dsl_visitor';\nimport {AnimationTimelineInstruction, createTimelineInstruction} from './animation_timeline_instruction';\n/**\n * @param {?} ast\n * @param {?=} startingStyles\n * @param {?=} finalStyles\n * @return {?}\n */\nexport function buildAnimationKeyframes(\n    ast: AnimationMetadata | AnimationMetadata[], startingStyles: ɵStyleData = {},\n    finalStyles: ɵStyleData = {}): AnimationTimelineInstruction[] {\n  const /** @type {?} */ normalizedAst =\n      Array.isArray(ast) ? sequence( /** @type {?} */((<AnimationMetadata[]>ast))) : /** @type {?} */(( <AnimationMetadata>ast));\n  return new AnimationTimelineVisitor().buildKeyframes(normalizedAst, startingStyles, finalStyles);\n}\n\nexport declare type StyleAtTime = {\n  time: number; value: string | number;\n};\nexport class AnimationTimelineContext {\n  currentTimeline: TimelineBuilder;\n  currentAnimateTimings: AnimateTimings;\n  previousNode: AnimationMetadata = /** @type {?} */(( <AnimationMetadata>{}));\n  subContextCount = 0;\n/**\n * @param {?} errors\n * @param {?} timelines\n * @param {?=} initialTimeline\n */\nconstructor(\npublic errors: any[],\npublic timelines: TimelineBuilder[],\n      initialTimeline: TimelineBuilder = null) {\n    this.currentTimeline = initialTimeline || new TimelineBuilder(0);\n    timelines.push(this.currentTimeline);\n  }\n/**\n * @return {?}\n */\ncreateSubContext(): AnimationTimelineContext {\n    const /** @type {?} */ context =\n        new AnimationTimelineContext(this.errors, this.timelines, this.currentTimeline.fork());\n    context.previousNode = this.previousNode;\n    context.currentAnimateTimings = this.currentAnimateTimings;\n    this.subContextCount++;\n    return context;\n  }\n/**\n * @param {?=} newTime\n * @return {?}\n */\ntransformIntoNewTimeline(newTime = 0) {\n    this.currentTimeline = this.currentTimeline.fork(newTime);\n    this.timelines.push(this.currentTimeline);\n    return this.currentTimeline;\n  }\n/**\n * @param {?} time\n * @return {?}\n */\nincrementTime(time: number) {\n    this.currentTimeline.forwardTime(this.currentTimeline.duration + time);\n  }\n}\n\nfunction AnimationTimelineContext_tsickle_Closure_declarations() {\n/** @type {?} */\nAnimationTimelineContext.prototype.currentTimeline;\n/** @type {?} */\nAnimationTimelineContext.prototype.currentAnimateTimings;\n/** @type {?} */\nAnimationTimelineContext.prototype.previousNode;\n/** @type {?} */\nAnimationTimelineContext.prototype.subContextCount;\n/** @type {?} */\nAnimationTimelineContext.prototype.errors;\n/** @type {?} */\nAnimationTimelineContext.prototype.timelines;\n}\n\nexport class AnimationTimelineVisitor implements AnimationDslVisitor {\n/**\n * @param {?} ast\n * @param {?} startingStyles\n * @param {?} finalStyles\n * @return {?}\n */\nbuildKeyframes(ast: AnimationMetadata, startingStyles: ɵStyleData, finalStyles: ɵStyleData):\n      AnimationTimelineInstruction[] {\n    const /** @type {?} */ context = new AnimationTimelineContext([], []);\n    context.currentTimeline.setStyles(startingStyles);\n\n    visitAnimationNode(this, ast, context);\n    const /** @type {?} */ normalizedFinalStyles = copyStyles(finalStyles, true);\n\n    // this is a special case for when animate(TIME) is used (without any styles)\n    // thus indicating to create an animation arc between the final keyframe and\n    // the destination styles. When this occurs we need to ensure that the styles\n    // that are missing on the finalStyles map are set to AUTO\n    if (Object.keys(context.currentTimeline.getFinalKeyframe()).length == 0) {\n      context.currentTimeline.properties.forEach(prop => {\n        const /** @type {?} */ val = normalizedFinalStyles[prop];\n        if (val == null) {\n          normalizedFinalStyles[prop] = AUTO_STYLE;\n        }\n      });\n    }\n\n    context.currentTimeline.setStyles(normalizedFinalStyles);\n    const /** @type {?} */ timelineInstructions: AnimationTimelineInstruction[] = [];\n    context.timelines.forEach(timeline => {\n      // this checks to see if an actual animation happened\n      if (timeline.hasStyling()) {\n        timelineInstructions.push(timeline.buildKeyframes());\n      }\n    });\n\n    if (timelineInstructions.length == 0) {\n      timelineInstructions.push(createTimelineInstruction([], 0, 0, ''));\n    }\n    return timelineInstructions;\n  }\n/**\n * @param {?} ast\n * @param {?} context\n * @return {?}\n */\nvisitState(ast: AnimationStateMetadata, context: any): any {\n    // these values are not visited in this AST\n  }\n/**\n * @param {?} ast\n * @param {?} context\n * @return {?}\n */\nvisitTransition(ast: AnimationTransitionMetadata, context: any): any {\n    // these values are not visited in this AST\n  }\n/**\n * @param {?} ast\n * @param {?} context\n * @return {?}\n */\nvisitSequence(ast: AnimationSequenceMetadata, context: AnimationTimelineContext) {\n    const /** @type {?} */ subContextCount = context.subContextCount;\n    if (context.previousNode.type == AnimationMetadataType.Style) {\n      context.currentTimeline.forwardFrame();\n      context.currentTimeline.snapshotCurrentStyles();\n    }\n\n    ast.steps.forEach(s => visitAnimationNode(this, s, context));\n\n    // this means that some animation function within the sequence\n    // ended up creating a sub timeline (which means the current\n    // timeline cannot overlap with the contents of the sequence)\n    if (context.subContextCount > subContextCount) {\n      context.transformIntoNewTimeline();\n    }\n\n    context.previousNode = ast;\n  }\n/**\n * @param {?} ast\n * @param {?} context\n * @return {?}\n */\nvisitGroup(ast: AnimationGroupMetadata, context: AnimationTimelineContext) {\n    const /** @type {?} */ innerTimelines: TimelineBuilder[] = [];\n    let /** @type {?} */ furthestTime = context.currentTimeline.currentTime;\n    ast.steps.forEach(s => {\n      const /** @type {?} */ innerContext = context.createSubContext();\n      visitAnimationNode(this, s, innerContext);\n      furthestTime = Math.max(furthestTime, innerContext.currentTimeline.currentTime);\n      innerTimelines.push(innerContext.currentTimeline);\n    });\n\n    // this operation is run after the AST loop because otherwise\n    // if the parent timeline's collected styles were updated then\n    // it would pass in invalid data into the new-to-be forked items\n    innerTimelines.forEach(\n        timeline => context.currentTimeline.mergeTimelineCollectedStyles(timeline));\n    context.transformIntoNewTimeline(furthestTime);\n    context.previousNode = ast;\n  }\n/**\n * @param {?} ast\n * @param {?} context\n * @return {?}\n */\nvisitAnimate(ast: AnimationAnimateMetadata, context: AnimationTimelineContext) {\n    const /** @type {?} */ timings = ast.timings.hasOwnProperty('duration') ? /** @type {?} */((\n        <AnimateTimings>ast.timings)) :\n        parseTimeExpression( /** @type {?} */((<string|number>ast.timings)), context.errors);\n    context.currentAnimateTimings = timings;\n\n    if (timings.delay) {\n      context.incrementTime(timings.delay);\n      context.currentTimeline.snapshotCurrentStyles();\n    }\n\n    const /** @type {?} */ astType = ast.styles ? ast.styles.type : -1;\n    if (astType == AnimationMetadataType.KeyframeSequence) {\n      this.visitKeyframeSequence( /** @type {?} */((<AnimationKeyframesSequenceMetadata>ast.styles)), context);\n    } else {\n      let /** @type {?} */ styleAst = /** @type {?} */(( ast.styles as AnimationStyleMetadata));\n      if (!styleAst && timings.easing) {\n        styleAst = style({easing: timings.easing});\n      }\n      context.incrementTime(timings.duration);\n      if (styleAst) {\n        this.visitStyle(styleAst, context);\n      }\n    }\n\n    context.currentAnimateTimings = null;\n    context.previousNode = ast;\n  }\n/**\n * @param {?} ast\n * @param {?} context\n * @return {?}\n */\nvisitStyle(ast: AnimationStyleMetadata, context: AnimationTimelineContext) {\n    // this is a special case when a style() call is issued directly after\n    // a call to animate(). If the clock is not forwarded by one frame then\n    // the style() calls will be merged into the previous animate() call\n    // which is incorrect.\n    if (!context.currentAnimateTimings &&\n        context.previousNode.type == AnimationMetadataType.Animate) {\n      context.currentTimeline.forwardFrame();\n    }\n\n    const /** @type {?} */ normalizedStyles = normalizeStyles(ast.styles);\n    const /** @type {?} */ easing = context.currentAnimateTimings && context.currentAnimateTimings.easing;\n    if (easing) {\n      normalizedStyles['easing'] = easing;\n    }\n\n    context.currentTimeline.setStyles(normalizedStyles);\n    context.previousNode = ast;\n  }\n/**\n * @param {?} ast\n * @param {?} context\n * @return {?}\n */\nvisitKeyframeSequence(\n      ast: AnimationKeyframesSequenceMetadata, context: AnimationTimelineContext) {\n    const /** @type {?} */ MAX_KEYFRAME_OFFSET = 1;\n    const /** @type {?} */ limit = ast.steps.length - 1;\n    const /** @type {?} */ firstKeyframe = ast.steps[0];\n\n    let /** @type {?} */ offsetGap = 0;\n    const /** @type {?} */ containsOffsets = getOffset(firstKeyframe) != null;\n    if (!containsOffsets) {\n      offsetGap = MAX_KEYFRAME_OFFSET / limit;\n    }\n\n    const /** @type {?} */ startTime = context.currentTimeline.duration;\n    const /** @type {?} */ duration = context.currentAnimateTimings.duration;\n    const /** @type {?} */ innerContext = context.createSubContext();\n    const /** @type {?} */ innerTimeline = innerContext.currentTimeline;\n    innerTimeline.easing = context.currentAnimateTimings.easing;\n\n    ast.steps.forEach((step: AnimationStyleMetadata, i: number) => {\n      const /** @type {?} */ normalizedStyles = normalizeStyles(step.styles);\n      const /** @type {?} */ offset = containsOffsets ?\n          (step.offset != null ? step.offset : parseFloat( /** @type {?} */((normalizedStyles['offset'] as string)))) :\n          (i == limit ? MAX_KEYFRAME_OFFSET : i * offsetGap);\n      innerTimeline.forwardTime(offset * duration);\n      innerTimeline.setStyles(normalizedStyles);\n    });\n\n    // this will ensure that the parent timeline gets all the styles from\n    // the child even if the new timeline below is not used\n    context.currentTimeline.mergeTimelineCollectedStyles(innerTimeline);\n\n    // we do this because the window between this timeline and the sub timeline\n    // should ensure that the styles within are exactly the same as they were before\n    context.transformIntoNewTimeline(startTime + duration);\n    context.previousNode = ast;\n  }\n}\nexport class TimelineBuilder {\npublic duration: number = 0;\npublic easing: string = '';\nprivate _currentKeyframe: ɵStyleData;\nprivate _keyframes = new Map<number, ɵStyleData>();\nprivate _styleSummary: {[prop: string]: StyleAtTime} = {};\nprivate _localTimelineStyles: ɵStyleData;\nprivate _backFill: ɵStyleData = {};\n/**\n * @param {?} startTime\n * @param {?=} _globalTimelineStyles\n */\nconstructor(public startTime: number,\nprivate _globalTimelineStyles: ɵStyleData = null) {\n    this._localTimelineStyles = Object.create(this._backFill, {});\n    if (!this._globalTimelineStyles) {\n      this._globalTimelineStyles = this._localTimelineStyles;\n    }\n    this._loadKeyframe();\n  }\n/**\n * @return {?}\n */\nhasStyling(): boolean { return this._keyframes.size > 1; }\n/**\n * @return {?}\n */\nget currentTime() { return this.startTime + this.duration; }\n/**\n * @param {?=} currentTime\n * @return {?}\n */\nfork(currentTime = 0): TimelineBuilder {\n    return new TimelineBuilder(currentTime || this.currentTime, this._globalTimelineStyles);\n  }\n/**\n * @return {?}\n */\nprivate _loadKeyframe() {\n    this._currentKeyframe = this._keyframes.get(this.duration);\n    if (!this._currentKeyframe) {\n      this._currentKeyframe = Object.create(this._backFill, {});\n      this._keyframes.set(this.duration, this._currentKeyframe);\n    }\n  }\n/**\n * @return {?}\n */\nforwardFrame() {\n    this.duration++;\n    this._loadKeyframe();\n  }\n/**\n * @param {?} time\n * @return {?}\n */\nforwardTime(time: number) {\n    this.duration = time;\n    this._loadKeyframe();\n  }\n/**\n * @param {?} prop\n * @param {?} value\n * @return {?}\n */\nprivate _updateStyle(prop: string, value: string|number) {\n    if (prop != 'easing') {\n      this._localTimelineStyles[prop] = value;\n      this._globalTimelineStyles[prop] = value;\n      this._styleSummary[prop] = {time: this.currentTime, value};\n    }\n  }\n/**\n * @param {?} styles\n * @return {?}\n */\nsetStyles(styles: ɵStyleData) {\n    Object.keys(styles).forEach(prop => {\n      if (prop !== 'offset') {\n        const /** @type {?} */ val = styles[prop];\n        this._currentKeyframe[prop] = val;\n        if (prop !== 'easing' && !this._localTimelineStyles[prop]) {\n          this._backFill[prop] = this._globalTimelineStyles[prop] || AUTO_STYLE;\n        }\n        this._updateStyle(prop, val);\n      }\n    });\n    Object.keys(this._localTimelineStyles).forEach(prop => {\n      if (!this._currentKeyframe.hasOwnProperty(prop)) {\n        this._currentKeyframe[prop] = this._localTimelineStyles[prop];\n      }\n    });\n  }\n/**\n * @return {?}\n */\nsnapshotCurrentStyles() { copyStyles(this._localTimelineStyles, false, this._currentKeyframe); }\n/**\n * @return {?}\n */\ngetFinalKeyframe() { return this._keyframes.get(this.duration); }\n/**\n * @return {?}\n */\nget properties() {\n    const /** @type {?} */ properties: string[] = [];\n    for (let /** @type {?} */ prop in this._currentKeyframe) {\n      properties.push(prop);\n    }\n    return properties;\n  }\n/**\n * @param {?} timeline\n * @return {?}\n */\nmergeTimelineCollectedStyles(timeline: TimelineBuilder) {\n    Object.keys(timeline._styleSummary).forEach(prop => {\n      const /** @type {?} */ details0 = this._styleSummary[prop];\n      const /** @type {?} */ details1 = timeline._styleSummary[prop];\n      if (!details0 || details1.time > details0.time) {\n        this._updateStyle(prop, details1.value);\n      }\n    });\n  }\n/**\n * @return {?}\n */\nbuildKeyframes(): AnimationTimelineInstruction {\n    const /** @type {?} */ finalKeyframes: ɵStyleData[] = [];\n    // special case for when there are only start/destination\n    // styles but no actual animation animate steps...\n    if (this.duration == 0) {\n      const /** @type {?} */ targetKeyframe = this.getFinalKeyframe();\n\n      const /** @type {?} */ firstKeyframe = copyStyles(targetKeyframe, true);\n      firstKeyframe['offset'] = 0;\n      finalKeyframes.push(firstKeyframe);\n\n      const /** @type {?} */ lastKeyframe = copyStyles(targetKeyframe, true);\n      lastKeyframe['offset'] = 1;\n      finalKeyframes.push(lastKeyframe);\n    } else {\n      this._keyframes.forEach((keyframe, time) => {\n        const /** @type {?} */ finalKeyframe = copyStyles(keyframe, true);\n        finalKeyframe['offset'] = time / this.duration;\n        finalKeyframes.push(finalKeyframe);\n      });\n    }\n\n    return createTimelineInstruction(finalKeyframes, this.duration, this.startTime, this.easing);\n  }\n}\n\nfunction TimelineBuilder_tsickle_Closure_declarations() {\n/** @type {?} */\nTimelineBuilder.prototype.duration;\n/** @type {?} */\nTimelineBuilder.prototype.easing;\n/** @type {?} */\nTimelineBuilder.prototype._currentKeyframe;\n/** @type {?} */\nTimelineBuilder.prototype._keyframes;\n/** @type {?} */\nTimelineBuilder.prototype._styleSummary;\n/** @type {?} */\nTimelineBuilder.prototype._localTimelineStyles;\n/** @type {?} */\nTimelineBuilder.prototype._backFill;\n/** @type {?} */\nTimelineBuilder.prototype.startTime;\n/** @type {?} */\nTimelineBuilder.prototype._globalTimelineStyles;\n}\n\n/**\n * @param {?} ast\n * @return {?}\n */\nfunction getOffset(ast: AnimationStyleMetadata): number {\n  let /** @type {?} */ offset = ast.offset;\n  if (offset == null) {\n    const /** @type {?} */ styles = ast.styles;\n    if (Array.isArray(styles)) {\n      for (let /** @type {?} */ i = 0; i < styles.length; i++) {\n        const /** @type {?} */ o = /** @type {?} */(( styles[i]['offset'] as number));\n        if (o != null) {\n          offset = o;\n          break;\n        }\n      }\n    } else {\n      offset = /** @type {?} */(( styles['offset'] as number));\n    }\n  }\n  return offset;\n}\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {ɵStyleData} from '@angular/animations';\nimport {AnimationEngineInstruction, AnimationTransitionInstructionType} from '../render/animation_engine_instruction';\n\nexport interface AnimationTimelineInstruction extends AnimationEngineInstruction {\n  keyframes: ɵStyleData[];\n  duration: number;\n  delay: number;\n  totalTime: number;\n  easing: string;\n}\n/**\n * @param {?} keyframes\n * @param {?} duration\n * @param {?} delay\n * @param {?} easing\n * @return {?}\n */\nexport function createTimelineInstruction(\n    keyframes: ɵStyleData[], duration: number, delay: number,\n    easing: string): AnimationTimelineInstruction {\n  return {\n    type: AnimationTransitionInstructionType.TimelineAnimation,\n    keyframes,\n    duration,\n    delay,\n    totalTime: duration + delay, easing\n  };\n}\n","\n/**\n * @license \n * Copyright Google Inc. All Rights Reserved.\n * \n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nexport const ANY_STATE = '*';\nexport declare type TransitionMatcherFn = (fromState: any, toState: any) => boolean;\n/**\n * @param {?} transitionValue\n * @param {?} errors\n * @return {?}\n */\nexport function parseTransitionExpr(\n    transitionValue: string | TransitionMatcherFn, errors: string[]): TransitionMatcherFn[] {\n  const /** @type {?} */ expressions: TransitionMatcherFn[] = [];\n  if (typeof transitionValue == 'string') {\n    ( /** @type {?} */((<string>transitionValue)))\n        .split(/\\s*,\\s*/)\n        .forEach(str => parseInnerTransitionStr(str, expressions, errors));\n  } else {\n    expressions.push( /** @type {?} */((<TransitionMatcherFn>transitionValue)));\n  }\n  return expressions;\n}\n/**\n * @param {?} eventStr\n * @param {?} expressions\n * @param {?} errors\n * @return {?}\n */\nfunction parseInnerTransitionStr(\n    eventStr: string, expressions: TransitionMatcherFn[], errors: string[]) {\n  if (eventStr[0] == ':') {\n    eventStr = parseAnimationAlias(eventStr, errors);\n  }\n  const /** @type {?} */ match = eventStr.match(/^(\\*|[-\\w]+)\\s*(<?[=-]>)\\s*(\\*|[-\\w]+)$/);\n  if (match == null || match.length < 4) {\n    errors.push(`The provided transition expression \"${eventStr}\" is not supported`);\n    return expressions;\n  }\n\n  const /** @type {?} */ fromState = match[1];\n  const /** @type {?} */ separator = match[2];\n  const /** @type {?} */ toState = match[3];\n  expressions.push(makeLambdaFromStates(fromState, toState));\n\n  const /** @type {?} */ isFullAnyStateExpr = fromState == ANY_STATE && toState == ANY_STATE;\n  if (separator[0] == '<' && !isFullAnyStateExpr) {\n    expressions.push(makeLambdaFromStates(toState, fromState));\n  }\n}\n/**\n * @param {?} alias\n * @param {?} errors\n * @return {?}\n */\nfunction parseAnimationAlias(alias: string, errors: string[]): string {\n  switch (alias) {\n    case ':enter':\n      return 'void => *';\n    case ':leave':\n      return '* => void';\n    default:\n      errors.push(`The transition alias value \"${alias}\" is not supported`);\n      return '* => *';\n  }\n}\n/**\n * @param {?} lhs\n * @param {?} rhs\n * @return {?}\n */\nfunction makeLambdaFromStates(lhs: string, rhs: string): TransitionMatcherFn {\n  return (fromState: any, toState: any): boolean => {\n    const /** @type {?} */ lhsMatch = lhs == ANY_STATE || lhs == fromState;\n    const /** @type {?} */ rhsMatch = rhs == ANY_STATE || rhs == toState;\n    return lhsMatch && rhsMatch;\n  };\n}\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {AnimationAnimateMetadata, AnimationGroupMetadata, AnimationKeyframesSequenceMetadata, AnimationMetadata, AnimationMetadataType, AnimationSequenceMetadata, AnimationStateMetadata, AnimationStyleMetadata, AnimationTransitionMetadata} from '@angular/animations';\n\nexport interface AnimationDslVisitor {\n  visitState(ast: AnimationStateMetadata, context: any): any;\n  visitTransition(ast: AnimationTransitionMetadata, context: any): any;\n  visitSequence(ast: AnimationSequenceMetadata, context: any): any;\n  visitGroup(ast: AnimationGroupMetadata, context: any): any;\n  visitAnimate(ast: AnimationAnimateMetadata, context: any): any;\n  visitStyle(ast: AnimationStyleMetadata, context: any): any;\n  visitKeyframeSequence(ast: AnimationKeyframesSequenceMetadata, context: any): any;\n}\n/**\n * @param {?} visitor\n * @param {?} node\n * @param {?} context\n * @return {?}\n */\nexport function visitAnimationNode(\n    visitor: AnimationDslVisitor, node: AnimationMetadata, context: any) {\n  switch (node.type) {\n    case AnimationMetadataType.State:\n      return visitor.visitState( /** @type {?} */((<AnimationStateMetadata>node)), context);\n    case AnimationMetadataType.Transition:\n      return visitor.visitTransition( /** @type {?} */((<AnimationTransitionMetadata>node)), context);\n    case AnimationMetadataType.Sequence:\n      return visitor.visitSequence( /** @type {?} */((<AnimationSequenceMetadata>node)), context);\n    case AnimationMetadataType.Group:\n      return visitor.visitGroup( /** @type {?} */((<AnimationGroupMetadata>node)), context);\n    case AnimationMetadataType.Animate:\n      return visitor.visitAnimate( /** @type {?} */((<AnimationAnimateMetadata>node)), context);\n    case AnimationMetadataType.KeyframeSequence:\n      return visitor.visitKeyframeSequence( /** @type {?} */((<AnimationKeyframesSequenceMetadata>node)), context);\n    case AnimationMetadataType.Style:\n      return visitor.visitStyle( /** @type {?} */((<AnimationStyleMetadata>node)), context);\n    default:\n      throw new Error(`Unable to resolve animation metadata node #${node.type}`);\n  }\n}\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {AnimateTimings, ɵStyleData} from '@angular/animations';\n\nexport const /** @type {?} */ ONE_SECOND = 1000;\n/**\n * @param {?} exp\n * @param {?} errors\n * @return {?}\n */\nexport function parseTimeExpression(exp: string | number, errors: string[]): AnimateTimings {\n  const /** @type {?} */ regex = /^([\\.\\d]+)(m?s)(?:\\s+([\\.\\d]+)(m?s))?(?:\\s+([-a-z]+(?:\\(.+?\\))?))?$/i;\n  let /** @type {?} */ duration: number;\n  let /** @type {?} */ delay: number = 0;\n  let /** @type {?} */ easing: string = null;\n  if (typeof exp === 'string') {\n    const /** @type {?} */ matches = exp.match(regex);\n    if (matches === null) {\n      errors.push(`The provided timing value \"${exp}\" is invalid.`);\n      return {duration: 0, delay: 0, easing: null};\n    }\n\n    let /** @type {?} */ durationMatch = parseFloat(matches[1]);\n    const /** @type {?} */ durationUnit = matches[2];\n    if (durationUnit == 's') {\n      durationMatch *= ONE_SECOND;\n    }\n    duration = Math.floor(durationMatch);\n\n    const /** @type {?} */ delayMatch = matches[3];\n    const /** @type {?} */ delayUnit = matches[4];\n    if (delayMatch != null) {\n      let /** @type {?} */ delayVal: number = parseFloat(delayMatch);\n      if (delayUnit != null && delayUnit == 's') {\n        delayVal *= ONE_SECOND;\n      }\n      delay = Math.floor(delayVal);\n    }\n\n    const /** @type {?} */ easingVal = matches[5];\n    if (easingVal) {\n      easing = easingVal;\n    }\n  } else {\n    duration = /** @type {?} */(( <number>exp));\n  }\n\n  return {duration, delay, easing};\n}\n/**\n * @param {?} styles\n * @return {?}\n */\nexport function normalizeStyles(styles: ɵStyleData | ɵStyleData[]): ɵStyleData {\n  const /** @type {?} */ normalizedStyles: ɵStyleData = {};\n  if (Array.isArray(styles)) {\n    styles.forEach(data => copyStyles(data, false, normalizedStyles));\n  } else {\n    copyStyles(styles, false, normalizedStyles);\n  }\n  return normalizedStyles;\n}\n/**\n * @param {?} styles\n * @param {?} readPrototype\n * @param {?=} destination\n * @return {?}\n */\nexport function copyStyles(\n    styles: ɵStyleData, readPrototype: boolean, destination: ɵStyleData = {}): ɵStyleData {\n  if (readPrototype) {\n    // we make use of a for-in loop so that the\n    // prototypically inherited properties are\n    // revealed from the backFill map\n    for (let /** @type {?} */ prop in styles) {\n      destination[prop] = styles[prop];\n    }\n  } else {\n    Object.keys(styles).forEach(prop => destination[prop] = styles[prop]);\n  }\n  return destination;\n}\n/**\n * @param {?} element\n * @param {?} styles\n * @return {?}\n */\nexport function setStyles(element: any, styles: ɵStyleData) {\n  if (element['style']) {\n    Object.keys(styles).forEach(prop => element.style[prop] = styles[prop]);\n  }\n}\n/**\n * @param {?} element\n * @param {?} styles\n * @return {?}\n */\nexport function eraseStyles(element: any, styles: ɵStyleData) {\n  if (element['style']) {\n    Object.keys(styles).forEach(prop => {\n      // IE requires '' instead of null\n      // see https://github.com/angular/angular/issues/7916\n      element.style[prop] = '';\n    });\n  }\n}\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {AnimationPlayer, AnimationTriggerMetadata} from '@angular/animations';\n/**\n * @abstract\n */\nexport abstract class AnimationEngine {\n/**\n * @abstract\n * @param {?} trigger\n * @param {?=} name\n * @return {?}\n */\nregisterTrigger(trigger: AnimationTriggerMetadata, name?: string) {}\n/**\n * @abstract\n * @param {?} element\n * @param {?} domFn\n * @return {?}\n */\nonInsert(element: any, domFn: () => any) {}\n/**\n * @abstract\n * @param {?} element\n * @param {?} domFn\n * @return {?}\n */\nonRemove(element: any, domFn: () => any) {}\n/**\n * @abstract\n * @param {?} element\n * @param {?} property\n * @param {?} value\n * @return {?}\n */\nsetProperty(element: any, property: string, value: any) {}\n/**\n * @abstract\n * @param {?} element\n * @param {?} eventName\n * @param {?} eventPhase\n * @param {?} callback\n * @return {?}\n */\nlisten(\n      element: any, eventName: string, eventPhase: string,\n      callback: (event: any) => any) {}\n/**\n * @abstract\n * @return {?}\n */\nflush() {}\n/**\n * @return {?}\n */\nget activePlayers(): AnimationPlayer[] { throw new Error('...'); }\n/**\n * @return {?}\n */\nget queuedPlayers(): AnimationPlayer[] { throw new Error('...'); }\n}\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {AnimationPlayer, NoopAnimationPlayer} from '@angular/animations';\n\n\n\n/**\n * @experimental\n */\nexport class NoopAnimationDriver implements AnimationDriver {\n  animate(\n      element: any, keyframes: {[key: string]: string | number}[], duration: number, delay: number,\n      easing: string, previousPlayers: any[] = []): AnimationPlayer {\n    return new NoopAnimationPlayer();\n  }\n}\n\n/**\n * @experimental\n */\nexport abstract class AnimationDriver {\n  static NOOP: AnimationDriver = new NoopAnimationDriver();\n  abstract animate(\n      element: any, keyframes: {[key: string]: string | number}[], duration: number, delay: number,\n      easing: string, previousPlayers?: any[]): any;\n}\n"],"names":["makeAnimationEvent"],"mappings":"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"}